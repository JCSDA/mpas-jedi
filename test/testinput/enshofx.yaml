---
logging:
  categories: Info, Test, Warning, Error, Log, Trace, Stats
nml_file: namelist.atmosphere_2018041421
Assimilation Window:
  Begin: '2018-04-14T21:00:00Z'
  Length: PT6H
Geometry:
  gridfname: "./restart.2018-04-14_21.00.00.nc"
Model:
  name: MPAS
  tstep: PT30M
  finalnorm: 0.020383
  tolerance: 0.005
  variables:
  - temperature
  - pressure
  - spechum
  - uReconstructZonal
  - uReconstructMeridional
  - surface_pressure
Initial Condition:
  state:
  - variables:
    - temperature
    - pressure
    - spechum
    - uReconstructZonal
    - uReconstructMeridional
    - surface_pressure
    filename: Data/480km/bg/ensemble/mem01/x1.2562.init.2018-04-14_21.00.00.nc
    date: '2018-04-14T21:00:00Z'
  - variables:
    - temperature
    - pressure
    - spechum
    - uReconstructZonal
    - uReconstructMeridional
    - surface_pressure
    filename: Data/480km/bg/ensemble/mem02/x1.2562.init.2018-04-14_21.00.00.nc
    date: '2018-04-14T21:00:00Z'
  - variables:
    - temperature
    - pressure
    - spechum
    - uReconstructZonal
    - uReconstructMeridional
    - surface_pressure
    filename: Data/480km/bg/ensemble/mem03/x1.2562.init.2018-04-14_21.00.00.nc
    date: '2018-04-14T21:00:00Z'
  - variables:
    - temperature
    - pressure
    - spechum
    - uReconstructZonal
    - uReconstructMeridional
    - surface_pressure
    filename: Data/480km/bg/ensemble/mem04/x1.2562.init.2018-04-14_21.00.00.nc
    date: '2018-04-14T21:00:00Z'
  - variables:
    - temperature
    - pressure
    - spechum
    - uReconstructZonal
    - uReconstructMeridional
    - surface_pressure
    filename: Data/480km/bg/ensemble/mem05/x1.2562.init.2018-04-14_21.00.00.nc
    date: '2018-04-14T21:00:00Z'
Observations:
  ObsTypes:
  - ObsSpace:
      name: Radiosonde
      ObsDataIn:
        obsfile: Data/ioda/testinput_tier_1/sondes_obs_2018041500_m.nc4
      ObsDataOut:
        obsfile: Data/enshofx_sondes.nc4
      simulate:
        variables: [air_temperature, eastward_wind, northward_wind, specific_humidity]
    ObsOperator:
      name: VertInterp
    ObsBias: {}
  - ObsSpace:
      name: Aircraft
      ObsDataIn:
        obsfile: Data/ioda/testinput_tier_1/aircraft_obs_2018041500_m.nc4
      ObsDataOut:
        obsfile: Data/enshofx_aircraft.nc4
      simulate:
        variables: [air_temperature, eastward_wind, northward_wind, specific_humidity]
    ObsOperator:
      name: VertInterp
    ObsBias: {}
  - ObsSpace:
      name: Satwind
      ObsDataIn:
        obsfile: Data/ioda/testinput_tier_1/satwind_obs_2018041500_m.nc4
      ObsDataOut:
        obsfile: Data/enshofx_satwind.nc4
      simulate:
        variables: [eastward_wind, northward_wind]
    ObsOperator:
      name: VertInterp
    ObsBias: {}
  - ObsSpace:
      name: GnssroRef
      ObsDataIn:
        obsfile: Data/ioda/testinput_tier_1/gnssro_obs_2018041500_s.nc4
      ObsDataOut:
        obsfile: Data/enshofx_gnssroref.nc4
      simulate:
        variables: [refractivity]
    ObsOperator:
      name: GnssroRef
      ObsOptions:
        ro_top_meter: 30000
        use_compress: 0
    ObsBias: {}
  - ObsSpace:
      name: GnssroBndROPP1D
      ObsDataIn:
        obsfile: Data/ioda/testinput_tier_1/gnssro_obs_2018041500_s.nc4
      ObsDataOut:
        obsfile: Data/enshofx_gnssrobndropp1d.nc4
      simulate:
        variables: [bending_angle]
    ObsOperator:
      name: GnssroBndROPP1D
      ObsOptions:
        use_compress: 0
    ObsBias: {}
  - ObsOperator:
      name: CRTM
      Absorbers: [H2O,O3]
      Clouds: [Water, Ice, Rain, Snow, Graupel]
      ObsOptions:
        Sensor_ID: amsua_n19
        EndianType: little_endian
        CoefficientPath: Data/
    ObsSpace:
      name: CRTM
      ObsDataIn:
        obsfile: Data/ioda/testinput_tier_1/amsua_n19_obs_2018041500_m.nc4
      ObsDataOut:
        obsfile: Data/enshofx_amsua.nc4
      simulate:
        variables: [brightness_temperature]
        channels: 1-15
    ObsBias: {}
  - ObsSpace:
        name: SfcPCorrected
        ObsDataIn:
          obsfile: Data/ioda/testinput_tier_1/sfc_obs_2018041500_m.nc4
        ObsDataOut:
          obsfile: Data/enshofx_sfc.nc4
        simulate:
          variables: [surface_pressure]
      ObsOperator:
        name: SfcPCorrected
        da_psfc_scheme: UKMO   # or WRFDA
      LinearObsOperator:
        name: Identity
      Covariance:
        covariance: diagonal
      ObsFilters:
      - Filter: PreQC
        maxvalue: 3
        apply_at_iterations: 0
      - Filter: Difference Check
        reference: station_elevation@MetaData
        value: surface_altitude@GeoVaLs
        threshold: 500
      - Filter: Background Check
        filter variables:
        - name: surface_pressure
        threshold: 10
Prints:
  frequency: PT3H
